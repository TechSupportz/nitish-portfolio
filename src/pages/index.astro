---
import Layout from "../layouts/Layout.astro"
---

<Layout title="Nitish">
    <div class="flex h-full flex-col">
        <div
            class="absolute h-2/3 w-full bg-[url('/dot-matrix.svg')] bg-repeat opacity-30"
            style="mask-image: linear-gradient(to bottom,transparent,15%,white,80%,transparent)"
        >
        </div>
        <div class="z-10 flex h-3/6 items-center">
            <div class="flex flex-col gap-3 pl-24">
                <p class="text-3xl">Hello my name is</p>
                <h1 class="text-8xl">Nitish</h1>
                <h1 class="flex text-8xl">
                    I am a&nbsp;
                    <div class="mt-1 h-[calc(1.5ch+4px)] overflow-hidden">
                        <span>
                            <ul id="scroll-list" class="animate-infiniteScroll">
                                <li
                                    class="bg-gradient-to-tr from-sky-100 to-blue-500 bg-clip-text text-transparent"
                                >
                                    Software Developer
                                </li>
                                <li
                                    class="bg-gradient-to-tr from-sky-100 to-blue-500 bg-clip-text text-transparent"
                                >
                                    Tech Fanatic
                                </li>
                                <li
                                    class="bg-gradient-to-tr from-sky-100 to-blue-500 bg-clip-text text-transparent"
                                >
                                    Student
                                </li>
                                <li
                                    class="bg-gradient-to-tr from-sky-100 to-blue-500 bg-clip-text text-transparent"
                                >
                                    Software Developer
                                </li>
                            </ul>
                        </span>
                    </div>
                </h1>
            </div>
        </div>
        <!-- NOTE - This is just for testing purposes -->
        <h2 id="test-text" class="w-full text-center text-3xl text-red-400">
        </h2>
    </div>
</Layout>
<script>
    const scrollList = document.getElementById("scroll-list")

    if (scrollList) {
        const testText = document.getElementById("test-text")

        setInterval(() => {
            const style = window.getComputedStyle(scrollList)
            const matrix = new DOMMatrixReadOnly(style.transform)
            const translateY = (matrix.m42 / scrollList.clientHeight) * 100

            if (!testText) return

            if (translateY < 0 && translateY >= -25) {
                // "Tech Fanatic" is visible
                testText.innerText = "Tech Fanatic"
            } else if (translateY <= -25 && translateY >= -50) {
                // "Student" is visible
                testText.innerText = "Student"
            } else if (translateY < -55 || translateY >= 0) {
                // "Software Developer" is visible
                testText.innerText = "Software Developer"
            }
        }, 200)
    }
</script>
